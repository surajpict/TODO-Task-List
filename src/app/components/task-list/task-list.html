<div class="slds-p-around_medium">
  <h2 class="slds-text-heading_large slds-m-bottom_medium">To-Do List</h2>
  
  <!-- Task Form for Adding New Tasks -->
  <div class="slds-card slds-m-bottom_medium" *ngIf="!editingTask">
    <div class="slds-card__header slds-border_bottom">
      <h3 class="slds-card__header-title">Add New Task</h3>
    </div>
    <div class="slds-card__body slds-card__body_inner">
      <app-task-form (taskSubmit)="onTaskSubmit($event)"></app-task-form>
    </div>
  </div>
  
  <!-- Task Form for Editing Tasks -->
  <div class="slds-card slds-m-bottom_medium" *ngIf="editingTask">
    <div class="slds-card__header slds-border_bottom">
      <h3 class="slds-card__header-title">Edit Task</h3>
    </div>
    <div class="slds-card__body slds-card__body_inner">
      <app-task-form [task]="editingTask" (taskSubmit)="onTaskSubmit($event)"></app-task-form>
    </div>
  </div>
  
  <!-- Task List -->
  <div class="slds-card">
    <div class="slds-card__header slds-border_bottom">
      <h3 class="slds-card__header-title">Your Tasks</h3>
    </div>
    <div class="slds-card__body slds-card__body_inner">
      <div class="slds-table_edit slds-table_fixed-layout slds-table_bordered">
        <table class="slds-table slds-table_cell-buffer slds-table_bordered">
          <thead>
            <tr class="slds-line-height_reset">
              <th class="slds-text-align_center" scope="col">
                <div class="slds-truncate" title="Status">Status</div>
              </th>
              <th class="slds-text-align_left" scope="col">
                <div class="slds-truncate" title="Title">Title</div>
              </th>
              <th class="slds-text-align_left" scope="col">
                <div class="slds-truncate" title="Due Date">Due Date</div>
              </th>
              <th class="slds-text-align_left" scope="col">
                <div class="slds-truncate" title="Description">Description</div>
              </th>
              <th class="slds-text-align_center" scope="col">
                <div class="slds-truncate" title="Actions">Actions</div>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr class="slds-hint-parent" *ngFor="let task of tasks; trackBy: trackByFn">
              <td class="slds-text-align_center" data-label="Status">
                <input type="checkbox" 
                       [checked]="task.completed" 
                       (change)="toggleCompleted(task)" 
                       class="slds-checkbox">
              </td>
              <td class="slds-text-align_left" data-label="Title">
                <span [ngClass]="{'slds-line-through': task.completed}" class="slds-truncate">
                  {{ task.title }}
                </span>
              </td>
              <td class="slds-text-align_left" data-label="Due Date">
                <span [ngClass]="{'slds-line-through': task.completed}" class="slds-truncate">
                  {{ task.date }}
                </span>
              </td>
              <td class="slds-text-align_left" data-label="Description">
                <span [ngClass]="{'slds-line-through': task.completed}" class="slds-truncate">
                  {{ task.description || 'No description' }}
                </span>
              </td>
              <td class="slds-text-align_center" data-label="Actions">
                <button class="slds-button slds-button_neutral" (click)="onEdit(task)">Edit</button>
                <button class="slds-button slds-button_destructive" (click)="onDelete(task.id!)">Delete</button>
              </td>
            </tr>
            <tr *ngIf="tasks.length === 0">
              <td colspan="4" class="slds-text-align_center slds-text-color_weak">
                No tasks found. Add a new task to get started.
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
